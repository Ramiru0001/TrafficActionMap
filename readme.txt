# 事故予測プロジェクト

2020年～2023年の事故データを元に、交通事故の発生リスクを予測するプロジェクトです。  
警察庁の公開データを用いて機械学習モデルを作成し、そのモデルを利用して事故リスクを可視化します。

---

## 実行手順

### 1. 機械学習モデルの生成
機械学習を行いモデルを生成します。  
**MachineLearning.bat** を実行すると、以下のフォルダに学習済みモデルが出力されます:

output_data/accident_risk_model.pkl

- **実行時間**: 約4～5時間
- **必要PCスペック**: メモリ48GB以上推奨（64GB以上のPCでしか実行していないので何GBまでなら実行可能か不明です。）
- **Poolのコア数**: 実行するPCのコア数に合わせて、`MachineLearning.py` の設定を変更してください。
  ```python
  with Pool(processes=8) as pool:  # ここをPCのコア数に変更


学習データを変更する場合は、`MachineLearning.py` 内の事故データ読み込み箇所を編集してください。

---

### 2. サーバーの起動
事故予測サイトを起動します。  
**project.bat** を実行し、以下のURLにアクセスしてください:

http://127.0.0.1:5000


- **地図クリック**: 現在地の天気情報が自動入力され、リスクマップが表示されます。
- **条件変更**: 「リスクマップを表示」を押してリスクマップを更新してください。
- **ネット環境**: 天気データ取得のため必須

---

## 注意事項
- 実行には高性能PCと安定したネット環境が必要です。
- 学習済みモデルの生成には時間がかかるため、PCのスペックにご注意ください。
- 8コアのPCでモデルの生成に4~5時間かかりました。もっとコアが少ないPCならその分時間がかかります。

---

## 出典

交通事故統計情報のオープンデータ（警察庁ウェブサイト）
https://www.npa.go.jp/publications/statistics/koutsuu/opendata/index_opendata.html


## 使用データ(オンラインから取得。ネットワーク環境が必須です):

気象庁（アメダス）
https://www.jma.go.jp/bosai/map.html#5/34.5/137/&elem=temp&contents=amedas&interval=60

OpenWeatherMap
https://openweathermap.org/